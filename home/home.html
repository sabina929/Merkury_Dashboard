<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../css/home.css">
    <link rel="shortcut icon" href="../images/logo2.png" type="image/png">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/easy-pie-chart/2.1.6/jquery.easypiechart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/easy-pie-chart/2.1.6/easypiechart.js"></script>
    <title>Mercury Dashboard</title>
</head>

<body>

    <div class="wrapper">
        <div class="loader">
            <img src="../images/logo2.png" alt="logo">
        </div>
    </div>

    <section id="home">
        <div class="home-bg">
            <img src="../images/main-bg.png" alt="background photo">
        </div>

        <!-- SIDE MENU STARTS -->

        <div class="side-menu">
            <div class="side-menu__bg">
                <img src="../images/menus/side_menu/bg2.png" alt="blue background">
            </div>


            <div class="side-menu__nav">
                <nav>
                    <ul>
                        <li id="nav-home"><img src="../images/menus/side_menu/home.png" alt="Home"></li>
                        <li id="nav-workflow"><img src="../images/menus/side_menu/workflow.png" alt="Workflow"></li>
                        <li id="nav-statistics"><img src="../images/menus/side_menu/statistics.png" alt="Statistics">
                        </li>
                        <li id="nav-calendar"><img src="../images/menus/side_menu/feed.png" alt="Calendar"></li>
                        <li id="nav-users"><img src="../images/menus/side_menu/users.png" alt="Users"></li>
                        <li><img src="../images/menus/side_menu/settings.png" alt="Settings"></li>
                    </ul>
                </nav>
            </div>
        </div>

        <!-- SIDE MENU ENDS -->


        <!-- TOP MENU STARTS -->

        <div class="top-menu">
            <div class="top-menu__bg">
                <img src="../images/menus/top_menu/bg.png" alt="whit background">
            </div>

            <div class="top-menu__nav">
                <nav>
                    <ul>
                        <li>
                            <img class="hamburger-arrow" src="../images/menus/top_menu/hamburger-arrow.png" alt="arrow">
                            <img src="../images/menus/top_menu/hamburger.png" alt="hamburger">
                        </li>
                        <li>
                            <div class="search-box">
                                <input type="search" name="search" id="search-input">
                            </div>
                            <img src="../images/menus/top_menu/search.png" alt="search icon">
                        </li>
                        <li>
                            <button>Add project</button>
                            <img src="../images/menus/top_menu/add.png" alt="add icon">
                        </li>
                        <li>
                            <img src="../images/menus/top_menu/messages.png" alt="message icon">
                        </li>
                        <li>
                            <img src="../images/menus/top_menu/notifications.png" alt="notifications icon">
                        </li>
                        <li>
                            <img src="../images/menus/top_menu/profile.png" alt="profile picture">
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

        <!-- TOP MENU ENDS-->


        <!-- HOME CONTENT STARTS -->

        <div class="home-content">
            <div class="heading">
                <h1>Hello John!</h1>
            </div>
            <div class="second-row">
                <div class="left">
                    <img src="../images/home/your_sales.png" alt="your sales">

                    <div class="period">
                        <p>Period: <span>Last year</span></p>
                        <img src="../images/home/selection-arrow.png" alt="arrow">
                        <div class="options">
                            <p><span>All time</span></p>
                            <p><span>Last year</span></p>
                            <p><span>Last month</span></p>
                            <p><span>Last week</span></p>
                        </div>
                    </div>
                </div>
                <div class="right">
                    <img src="../images/home/report.png" alt="report">

                    <div class="period">
                        <p>Period: <span>Last year</span></p>
                        <img src="../images/home/selection-arrow.png" alt="arrow">
                        <div class="options">
                            <p><span>All time</span></p>
                            <p><span>Last year</span></p>
                            <p><span>Last month</span></p>
                            <p><span>Last week</span></p>
                        </div>
                    </div>

                </div>
            </div>
            <div class="third-row">
                <div class="first">
                    <img src="../images/home/tasks.png" alt="tasks">
                </div>
                <div class="second">
                    <img src="../images/home/messages.png" alt="messages">
                </div>
                <div class="third">
                    <img src="../images/home/activity.png" alt="activity">
                </div>
            </div>
        </div>

        <!-- HOME CONTENT ENDS -->

        <!-- WORKFLOW STARTS -->
        <div class="workflow">
            <div class="to-do">
                <div class="to-do__heading">
                    <h1>To Do <span>(6)</span></h1>
                    <img src="../images/workflow/arrow.png" alt="right arrow">
                </div>
                <div class="to-do1">
                    <img src="../images/workflow/to-do1.png" alt="to-do">
                    <img class="to-do__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">

                    <div class="option-container">
                        <p class="delete-option">delete</p>
                        <p class="in-progress-option">in-progress</p>
                        <p class="completed-option">completed</p>
                    </div>
                </div>
                <div class="to-do2">
                    <img src="../images/workflow/to-do2.png" alt="to-do">
                    <img class="to-do__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">
                    <div class="option-container">
                        <p class="delete-option">delete</p>
                        <p class="in-progress-option">in-progress</p>
                        <p class="completed-option">completed</p>
                    </div>
                </div>
                <div class="to-do3">
                    <img src="../images/workflow/to-do3.png" alt="to-do">
                    <img class="to-do__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">
                    <div class="option-container">
                        <p class="delete-option">delete</p>
                        <p class="in-progress-option">in-progress</p>
                        <p class="completed-option">completed</p>
                    </div>
                </div>
                <div class="to-do4">
                    <img src="../images/workflow/to-do4.png" alt="to-do">
                    <img class="to-do__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">
                    <div class="option-container">
                        <p class="delete-option">delete</p>
                        <p class="in-progress-option">in-progress</p>
                        <p class="completed-option">completed</p>
                    </div>
                </div>
                <div class="to-do5">
                    <img src="../images/workflow/to-do5.png" alt="to-do">
                    <img class="to-do__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">
                    <div class="option-container">
                        <p class="delete-option">delete</p>
                        <p class="in-progress-option">in-progress</p>
                        <p class="completed-option">completed</p>
                    </div>
                </div>
                <div class="to-do6">
                    <img src="../images/workflow/to-do6.png" alt="to-do">
                    <img class="to-do__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">
                    <div class="option-container">
                        <p class="delete-option">delete</p>
                        <p class="in-progress-option">in-progress</p>
                        <p class="completed-option">completed</p>
                    </div>
                </div>
            </div>


            <div class="in-progresses">
                <div class="in-progress__heading">
                    <h1>In-Progress <span>(3)</span></h1>
                    <img src="../images/workflow/arrow.png" alt="right arrow">
                </div>

                <div class="in-progress">
                    <img src="../images/workflow/in-progress1.png" alt="in-progress">
                    <img class="in-progress__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="one-day-left" src="../images/workflow/1day-left-badge.png" alt="1 day left">
                    <div class="option-container2">
                        <p class="delete-option2">delete</p>
                        <p class="completed-option2">completed</p>
                    </div>
                </div>

                <div class="in-progress">
                    <img src="../images/workflow/in-progress2.png" alt="in-progress">
                    <img class="in-progress__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="five-days-left" src="../images/workflow/5days-left-badge.png" alt="5 days left">
                    <div class="option-container2">
                        <p class="delete-option2">delete</p>
                        <p class="completed-option2">completed</p>
                    </div>
                </div>
                <div class="in-progress">
                    <img src="../images/workflow/in-progress3.png" alt="in-progress">
                    <img class="in-progress__option" src="../images/workflow/options.png" alt="three dots">
                    <img class="two-days-delay" src="../images/workflow/2days-delays-badge.png" alt="2 days delays">
                    <div class="option-container2">
                        <p class="delete-option2">delete</p>
                        <p class="completed-option2">completed</p>
                    </div>
                </div>
            </div>


            <div class="completed-all">
                <div class="completed__heading">
                    <h1>Completed <span>(4)</span></h1>
                    <img src="../images/workflow/arrow.png" alt="right arrow">
                </div>
                <div class="completed">
                    <img src="../images/workflow/completed1.png" alt="completed">
                    <img class="completed__option" src="../images/workflow/options.png" alt="three dots">
                    <div class="option-container3">
                        <p class="delete-option3">delete</p>
                    </div>
                </div>
                <div class="completed">
                    <img src="../images/workflow/completed2.png" alt="completed">
                    <img class="completed__option" src="../images/workflow/options.png" alt="three dots">
                    <div class="option-container3">
                        <p class="delete-option3">delete</p>
                    </div>
                </div>
                <div class="completed">
                    <img src="../images/workflow/completed3.png" alt="completed">
                    <img class="completed__option" src="../images/workflow/options.png" alt="three dots">
                    <div class="option-container3">
                        <p class="delete-option3">delete</p>
                    </div>

                </div>
                <div class="completed">
                    <img src="../images/workflow/completed4.png" alt="completed">
                    <img class="completed__option" src="../images/workflow/options.png" alt="three dots">
                    <div class="option-container3">
                        <p class="delete-option3">delete</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- WORKFLOW ENDS -->


        <!-- STATISTICS STARTS -->
        <div class="statistics">

            <div class="statistics__first-row">
                <div class="heading">
                    <h1>Lorem Ipsum Stats</h1>
                </div>
                <div class="statistics__selections">

                    <div class="selection">
                        <p>Period: <span>Last month</span></p>
                        <img class="selection__arrow" src="../images/home/selection-arrow.png" alt="arrow">
                        <div class="selection__options">
                            <p><span>All time</span></p>
                            <p><span>Last year</span></p>
                            <p><span>Last month</span></p>
                            <p><span>Last week</span></p>
                        </div>
                    </div>

                    <div class="selection">
                        <p>Type: <span>Notifications</span></p>
                        <img class="selection__arrow" src="../images/home/selection-arrow.png" alt="arrow">
                        <div class="selection__options">
                            <p><span>Works</span></p>
                            <p><span>Connections</span></p>
                            <p><span>Notifications</span></p>
                            <p><span>Messages</span></p>
                        </div>
                    </div>

                </div>
            </div>

            <div class="statistics__container">
                <div class="likes-views">
                    <img src="../images/statistics/likes-views.png" alt="likes and views">
                </div>
                <div class="active-users">
                    <img src="../images/statistics/active-users.png" alt="active users">
                    <img src="../images/statistics/edit.png" alt="edit button">
                    <img src="../images/statistics/delete.png" alt="delete button">
                </div>
                <div class="total-sales">
                    <img src="../images/statistics/total-sales-bg.png" alt="total sales">


                    <img src="../images/statistics/edit.png" alt="edit button">
                    <img src="../images/statistics/delete.png" alt="delete button">
                </div>

            </div>
            <div class="total-sales__container">
                <div class="chart easy-pie-chart-1" data-percent="50">
                    <span class="percent1"></span>
                </div>

                <span class="editing1">
                    <span contenteditable="false">2300</span><span>$</span>
                    <p>Direct Sales</p>
                </span>

                <div class="chart easy-pie-chart-2" data-percent="22">
                    <span class="percent2"></span>
                </div>

                <span class="editing2">
                    <span contenteditable="false">980</span><span>$</span>
                    <p>Channel Sales</p>
                </span>

                <div class="chart easy-pie-chart-3" data-percent="28">
                    <span class="percent3"></span>
                </div>

                <span class="editing3">
                    <span contenteditable="false">1230</span><span>$</span>
                    <p>Channel Sales</p>
                </span>
            </div>
        </div>
        <!-- STATISTICS ENDS -->

    </section>

    <script src="../loading2.js"></script>
    <script src="../script.js"></script>




    <script>
        jQuery(document).ready(function ($) {

            $('.easy-pie-chart-1').easyPieChart({
                easing: 'easeOutBounce',
                barColor: '#5484ff',
                scaleColor: false,
                trackColor: '#dadee7',
                rotate: 180,
                lineWidth: 10,
                onStep: function (from, to, percent) {
                    $(this.el).find('.percent1').text(Math.round(percent));
                }
            });
            $('.easy-pie-chart-2').easyPieChart({
                easing: 'easeOutBounce',
                barColor: '#aa5fb9',
                scaleColor: false,
                trackColor: '#dadee7',
                rotate: 180,
                lineWidth: 10,
                onStep: function (from, to, percent) {
                    $(this.el).find('.percent2').text(Math.round(percent));
                }
            });
            $('.easy-pie-chart-3').easyPieChart({
                easing: 'easeOutBounce',
                barColor: '#f83c7b',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10,
                onStep: function (from, to, percent) {
                    $(this.el).find('.percent3').text(Math.round(percent));
                }
            });
        });

        let chartThree = document.querySelector('.easy-pie-chart-3');

        let editOne = document.querySelector(".editing1>span:nth-child(1)");
        let editTwo = document.querySelector(".editing2>span:nth-child(1)");
        let editThree = document.querySelector(".editing3>span:nth-child(1)");

        const editButton = document.querySelector('.total-sales img:nth-child(2)');
        // console.log(editButton);



        let timesClicked = 1;

        editButton.addEventListener('click', checkTimesClicked);

        function checkTimesClicked() {
            if (timesClicked === 1) {
                makeContenteditableTrue();

            } else if (timesClicked === 2) {

                makeContenteditableFalse();
            }
        }

        function makeContenteditableTrue() {
            editOne.contentEditable = true;
            editTwo.contentEditable = true;
            editThree.contentEditable = true;

            // console.log(editOne.contentEditable);
            // console.log(editTwo.contentEditable);
            // console.log(editThree.contentEditable);

            timesClicked = 2;
        }

        function makeContenteditableFalse() {
            editOne.contentEditable = false;
            editTwo.contentEditable = false;
            editThree.contentEditable = false;

            // console.log(editOne.contentEditable);
            // console.log(editTwo.contentEditable);
            // console.log(editThree.contentEditable);

            timesClicked = 1;
        }



        // console.log(editOne);
        // console.log(editTwo);
        // console.log(editThree);


        let percentThree = chartThree.dataset.percent;

        editOne.addEventListener('input', changeChartPercentageOne);
        editTwo.addEventListener('input', changeChartPercentageTwo);
        editThree.addEventListener('input', changeChartPercentageThree);

        function changeChartPercentageOne() {
            let string = editOne.innerHTML;
            let string2 = editTwo.innerHTML;
            let string3 = editThree.innerHTML;
            let number = Number(string);
            let number2 = Number(string2);
            let number3 = Number(string3);
            let mid = Math.floor((number / (number + number2 + number3)) * 100);
            let mid2 = Math.floor((number2 / (number + number2 + number3)) * 100);
            let mid3 = Math.floor((number3 / (number + number2 + number3)) * 100);
            // console.log(Math.floor(mid));
            // console.log(number);
            let chartOne = document.querySelector('.easy-pie-chart-1');
            let percentOne = chartOne.dataset.percent;
            percentOne = `${mid}`;
            // console.log(percentOne);
            chartOne.dataset.percent = percentOne;
            // console.log(chartOne);
            let chartTwo = document.querySelector('.easy-pie-chart-2');
            let percentTwo = chartTwo.dataset.percent;
            percentTwo = `${mid2}`;
            // console.log(percentTwo);
            chartTwo.dataset.percent = percentTwo;

            let chartThree = document.querySelector('.easy-pie-chart-3');
            let percentThree = chartThree.dataset.percent;
            percentThree = `${mid3}`;
            // console.log(percentThree);
            chartThree.dataset.percent = percentThree;
            // console.log(chartThree);

            let spanOne = document.querySelector('.percent1');

            new EasyPieChart(chartOne, {
                easing: 'easeOutBounce',
                barColor: '#5484ff',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanOne.innerHTML = percentOne;


            let spanTwo = document.querySelector('.percent2');

            new EasyPieChart(chartTwo, {
                easing: 'easeOutBounce',
                barColor: '#aa5fb9',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanTwo.innerHTML = percentTwo;

            let spanThree = document.querySelector('.percent3');

            new EasyPieChart(chartThree, {
                easing: 'easeOutBounce',
                barColor: '#f83c7b',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanThree.innerHTML = percentThree;
        }




        function changeChartPercentageTwo() {
            let string = editOne.innerHTML;
            let string2 = editTwo.innerHTML;
            let string3 = editThree.innerHTML;
            let number = Number(string);
            let number2 = Number(string2);
            let number3 = Number(string3);
            let mid = Math.floor((number / (number + number2 + number3)) * 100);
            let mid2 = Math.floor((number2 / (number + number2 + number3)) * 100);
            let mid3 = Math.floor((number3 / (number + number2 + number3)) * 100);
            // console.log(Math.floor(mid));
            // console.log(number);
            let chartOne = document.querySelector('.easy-pie-chart-1');
            let percentOne = chartOne.dataset.percent;
            percentOne = `${mid}`;
            // console.log(percentOne);
            chartOne.dataset.percent = percentOne;
            // console.log(chartOne);
            let chartTwo = document.querySelector('.easy-pie-chart-2');
            let percentTwo = chartTwo.dataset.percent;
            percentTwo = `${mid2}`;
            // console.log(percentTwo);
            chartTwo.dataset.percent = percentTwo;

            let chartThree = document.querySelector('.easy-pie-chart-3');
            let percentThree = chartThree.dataset.percent;
            percentThree = `${mid3}`;
            // console.log(percentThree);
            chartThree.dataset.percent = percentThree;
            // console.log(chartThree);

            let spanOne = document.querySelector('.percent1');

            new EasyPieChart(chartOne, {
                easing: 'easeOutBounce',
                barColor: '#5484ff',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanOne.innerHTML = percentOne;


            let spanTwo = document.querySelector('.percent2');

            new EasyPieChart(chartTwo, {
                easing: 'easeOutBounce',
                barColor: '#aa5fb9',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanTwo.innerHTML = percentTwo;

            let spanThree = document.querySelector('.percent3');

            new EasyPieChart(chartThree, {
                easing: 'easeOutBounce',
                barColor: '#f83c7b',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanThree.innerHTML = percentThree;
        }


        function changeChartPercentageThree() {
            let string = editOne.innerHTML;
            let string2 = editTwo.innerHTML;
            let string3 = editThree.innerHTML;
            let number = Number(string);
            let number2 = Number(string2);
            let number3 = Number(string3);
            let mid = Math.floor((number / (number + number2 + number3)) * 100);
            let mid2 = Math.floor((number2 / (number + number2 + number3)) * 100);
            let mid3 = Math.floor((number3 / (number + number2 + number3)) * 100);
            // console.log(Math.floor(mid));
            // console.log(number);
            let chartOne = document.querySelector('.easy-pie-chart-1');
            let percentOne = chartOne.dataset.percent;
            percentOne = `${mid}`;
            // console.log(percentOne);
            chartOne.dataset.percent = percentOne;
            // console.log(chartOne);
            let chartTwo = document.querySelector('.easy-pie-chart-2');
            let percentTwo = chartTwo.dataset.percent;
            percentTwo = `${mid2}`;
            // console.log(percentTwo);
            chartTwo.dataset.percent = percentTwo;

            let chartThree = document.querySelector('.easy-pie-chart-3');
            let percentThree = chartThree.dataset.percent;
            percentThree = `${mid3}`;
            // console.log(percentThree);
            chartThree.dataset.percent = percentThree;
            // console.log(chartThree);

            let spanOne = document.querySelector('.percent1');

            new EasyPieChart(chartOne, {
                easing: 'easeOutBounce',
                barColor: '#5484ff',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanOne.innerHTML = percentOne;


            let spanTwo = document.querySelector('.percent2');

            new EasyPieChart(chartTwo, {
                easing: 'easeOutBounce',
                barColor: '#aa5fb9',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanTwo.innerHTML = percentTwo;

            let spanThree = document.querySelector('.percent3');

            new EasyPieChart(chartThree, {
                easing: 'easeOutBounce',
                barColor: '#f83c7b',
                trackColor: '#dadee7',
                scaleColor: false,
                rotate: 180,
                lineWidth: 10
            });

            spanThree.innerHTML = percentThree;
        }
    </script>

</body>

</html>